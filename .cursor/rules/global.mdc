---
description: Global rules and information
alwaysApply: true
---

# Superfaktura Project Basics

## Project Purpose

- This repo is a Node.js TypeScript package named `superfaktura-library`.
- It provides both:
  - an importable SDK for SuperFaktura API
  - a CLI tool `superfaktura`
- Current feature scope: contacts + invoices, including invoice PDF download.

## API and Domain Conventions

- Public naming uses `contacts`, but API endpoints map to SuperFaktura `clients/*`.
- Auth module value is hardcoded to `superfaktura-library`.
- Default API URL is sandbox (`https://sandbox.superfaktura.sk`) unless overridden.
- Do not add rate-limit data to public SDK output unless explicitly requested.

## Build and Runtime Conventions

- Keep setup minimal and modern:
  - ESM-only package
  - Node `>=22`
- Keep CLI IDs positional for commands that require ID input.

## Coding Style

- Prefer simple, boring implementations over abstractions.
- Keep configuration and scripts minimal.
- Use dash-case filenames.
- Keep text mode and JSON mode behavior stable unless user asks to change.
- Prefer manual verification flows in this repo unless tests are explicitly requested.
- Always write valid and safe Typescript.
- Do not use `any`, instead use `unknown` and proper type guards.
- Do not cast randomly between types, use proper types.
- Do not cast like `as unknown as Type`, this is invalid forced type changing.
- Prefer explicit `if`-based object construction over conditional object spreading for readability.
- Usually simple truthy checks are enough in conditionals instead of directly comparing with `undefined` or `null`.

## Project Structure

- All implementation code lives under `src`.
- Entry file into the library is `src/index.ts`.
- Entry file for the CLI is `src/cli/main.ts`. All CLI code lives under `src/cli`.
- `src/data` contains data schemas and exports types for the data that this library works with.
- `src/client` contains the exported JS library client implementation.
- `src/resources` contains implementations for the supported CRUD types.
- `src/core` has the core functionality.
- `src/core/utils.ts` has simple project-wide utilities. `src/core/types.ts` contains project-wide types.
